
# LICO Tool Installation Guide

An improved concolic-testing tool for Java projects, with enhanced loop-related error detection.


## Introduction

This README provides instructions for installing and running the LICO tool.

## Service Port Configuration

The system is composed of multiple Spring Boot–based microservices, each running on a dedicated network port to support service isolation and inter-service communication.

The default port configuration is defined as follows:

- `unitTesting`: 8006
- `upload-project-service`: 8020


## System Requirements

Before running the tool, ensure that the following software components are installed and properly configured:

- **Java Development Kit (JDK)** (version 11 or higher)
- **Apache Maven**
- **Z3 SMT Solver with Java bindings**
- **Postman** (for invoking and testing RESTful APIs)

⚠️ All required tools must be correctly configured in the system environment
(e.g., JAVA_HOME, MAVEN_HOME, and native library paths for Z3).


## Step 1: Clone the Repository

Clone the repository containing the tool source code:

    git clone <repository-url>

Navigate to the project root directory:

    cd <project-directory>


## Step 2: Install and Configure Required Dependencies

### CIA Tool
Replace the `mrmathami` folder in `Users/admin/.m2/repository` with the version
downloaded from https://drive.google.com/drive/u/0/folders/1c_FdlggwXR_xfr1hdL4L-zvnwr5ND5hA[link].

### Java Development Kit (JDK)

Install a supported JDK version and verify the installation:

    java -version

### Apache Maven

Install Apache Maven and verify the installation:

    mvn -version


### Z3 SMT Solver (Java Bindings)

1. Install the Z3 SMT Solver with Java bindings.
2. Ensure that the Z3 native library is accessible at runtime
3. Verify the installation:

    z3 --version


### Postman

Install Postman to send HTTP requests and interact with the tool’s RESTful APIs.


## Step 3: Build the Project with Maven

This step builds all service modules by cleaning existing artifacts and installing
their dependencies using Maven.

Navigate to each service directory that contains a `pom.xml` file and execute:

    mvn clean install

## Step 4: Configure Target Method and Source File Path

Before running the testing process, users must configure the target method name and the absolute path to the corresponding Java source file by updating the relevant variables in 
`core-engine/cfg/src/main/java/core/testGeneration/ConcolicTestGeneration/ConcolicTestingWithStub/ConcolicTestingWithStub4Libs.java` .

### 1. Target Method Configuration

The variable `classBaseName` specifies the name of the Java class and method to be
tested. Users must update this value so that it exactly matches the target method
implemented in the uploaded project.

_Example:_

    String classBaseName = "binaryGap";

### 2. Source File Path Configuration

The variable `fullPath` defines the absolute file system path to the Java source
file that contains the target method. This path is constructed based on the local
project directory structure.

_Example:_

    String fullPath = Paths.get(
        System.getProperty("user.home"),
        "working", "uet", "LICO",
        "project", "anonymous", "tmp-prj",
        "example.zip.project", "example",
        "src", "main", "java",
        classBaseName,
        classBaseName + ".java"
    ).toString();

Note:
The modification of these local variables is used solely for experimental
error-counting purposes within our evaluation. This configuration does not
affect the coverage results reported by the testing tool.


## Step 5: Run Spring Boot Services

Navigate to each of the following service modules:

    - `unitTesting`
    - `upload-project-service`

For each module, start the Spring Boot application using one of the supported methods.

### Using Maven:
    mvn spring-boot:run

### Using an IDE:
Alternatively, launch the application by running the main class annotated with `@SpringBootApplication` from an IDE (e.g., IntelliJ IDEA).

⚠️ Ensure that all listed services are started successfully and are properly registered and connected before proceeding to the next step.


## Step 6: Invoke the Tool via RESTful APIs

The testing tool is accessed through RESTful APIs and can be invoked using
an API client such as Postman.

Using Postman, users are required to call the following two APIs in sequence:

### 1. Upload and process the target project:

    http://localhost:8020/api/upload-project-service/process?parser=&user=&project=

This API uploads and preprocesses the *ZIP file* containing the Java project
to prepare it for testing.

### 2. Execute the unit testing process:

    http://localhost:8006/api/unit-testing-service/unit?nameProject=example.zip.project&coverageType=statement&targetId=1

This API initiates the testing process by specifying the desired coverage
criterion (`statement`, `branch`, or `mcdc`) and the target method identifier (`targetId`).

Note:
If you want to count errors, set `targetId` to the identifier of the **original method** (the method whose name does not contain a numeric suffix)
